<!DOCTYPE html>
<html lang="zh-CN" 
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å‹ç®¡ç† - AI Reviewer</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
</head>

<body>
    <!-- å¯¼èˆªæ  -->
    <div th:replace="~{fragments/navigation :: main-navigation}"></div>
    
    <main class="main-content">
        <div class="container">
            <h1>æ¨¡å‹ç®¡ç†</h1>
            
            <!-- é”™è¯¯æç¤º -->
            <div th:if="${error}" class="alert alert-danger">
                <p th:text="${error}">é”™è¯¯ä¿¡æ¯</p>
            </div>
            
            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
            <div th:if="${statistics}" class="row">
                <div class="col-md-3">
                    <div class="stat-card">
                        <h3 th:text="${statistics.totalModels ?: 0}">0</h3>
                        <p>æ€»æ¨¡å‹æ•°</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card">
                        <h3 th:text="${statistics.enabledModels ?: 0}">0</h3>
                        <p>å·²å¯ç”¨</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card">
                        <h3 th:text="${statistics.connectedModels ?: 0}">0</h3>
                        <p>å·²è¿æ¥</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card">
                        <h3 th:text="${statistics.averageResponseTime ?: 0}">0</h3>
                        <p>å¹³å‡å“åº”æ—¶é—´(ms)</p>
                    </div>
                </div>
            </div>
            
            <!-- æ“ä½œæ  -->
            <div class="action-bar">
                <button class="btn btn-primary" onclick="alert('æ·»åŠ æ¨¡å‹åŠŸèƒ½')">
                    â• æ·»åŠ æ¨¡å‹
                </button>
                <button class="btn btn-secondary" onclick="location.reload()">
                    ğŸ”„ åˆ·æ–°
                </button>
            </div>
            
            <!-- AIæ¨¡å‹åˆ—è¡¨ -->
            <div th:if="${aiModels}" class="section">
                <h2>ğŸ¤– AI æ¨¡å‹</h2>
                <div class="model-list">
                    <div th:each="model : ${aiModels}" class="model-item">
                        <div class="model-header">
                            <h3 th:text="${model.name ?: 'æœªçŸ¥æ¨¡å‹'}">æ¨¡å‹åç§°</h3>
                            <span th:text="${model.enabled ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨'}">çŠ¶æ€</span>
                        </div>
                        <p th:text="${model.description ?: 'æ— æè¿°'}">æè¿°</p>
                        <div class="model-meta">
                            <span>ç±»å‹: <span th:text="${model.type?.name ?: 'æœªçŸ¥'}">ç±»å‹</span></span>
                            <span>çŠ¶æ€: <span th:text="${model.status?.name ?: 'æœªçŸ¥'}">çŠ¶æ€</span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- é™æ€åˆ†æå·¥å…·åˆ—è¡¨ -->
            <div th:if="${staticAnalyzers}" class="section">
                <h2>ğŸ” é™æ€åˆ†æå·¥å…·</h2>
                <div class="model-list">
                    <div th:each="model : ${staticAnalyzers}" class="model-item">
                        <div class="model-header">
                            <h3 th:text="${model.name ?: 'æœªçŸ¥å·¥å…·'}">å·¥å…·åç§°</h3>
                            <span th:text="${model.enabled ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨'}">çŠ¶æ€</span>
                        </div>
                        <p th:text="${model.description ?: 'æ— æè¿°'}">æè¿°</p>
                        <div class="model-meta">
                            <span>ç±»å‹: <span th:text="${model.type?.name ?: 'æœªçŸ¥'}">ç±»å‹</span></span>
                            <span>çŠ¶æ€: <span th:text="${model.status?.name ?: 'æœªçŸ¥'}">çŠ¶æ€</span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç©ºçŠ¶æ€ -->
            <div th:if="${!models or models.empty}" class="empty-state">
                <div class="text-center">
                    <h3>ğŸ¤– è¿˜æ²¡æœ‰é…ç½®æ¨¡å‹</h3>
                    <p>ç‚¹å‡»"æ·»åŠ æ¨¡å‹"æŒ‰é’®å¼€å§‹é…ç½®æ‚¨çš„ç¬¬ä¸€ä¸ªAIæ¨¡å‹æˆ–é™æ€åˆ†æå·¥å…·</p>
                    <button class="btn btn-primary" onclick="alert('æ·»åŠ æ¨¡å‹åŠŸèƒ½')">
                        â• æ·»åŠ æ¨¡å‹
                    </button>
                </div>
            </div>
        </div>
    </main>

    <style>
        .stat-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        .action-bar {
            margin: 2rem 0;
            text-align: center;
        }
        .action-bar .btn {
            margin: 0 0.5rem;
        }
        .section {
            margin: 2rem 0;
        }
        .model-list {
            display: grid;
            gap: 1rem;
        }
        .model-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
        }
        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .model-meta {
            font-size: 0.9em;
            color: #666;
        }
        .model-meta span {
            margin-right: 1rem;
        }
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #666;
        }
        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</body>
</html>
